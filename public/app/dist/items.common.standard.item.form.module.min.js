let itemsCommonStandardItemFormModule=(()=>{var e={get_common_standard_item_form_fields:function(){try{let i={styles:{}};var t=window.location.pathname,e=(t.includes("text"),t.includes("media"));let l=(e,t="")=>document.querySelector(e)?.value?.trim()??t;var o=e=>{var t=document.querySelector("#message");t&&(t.innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e}</div>`)},r=(i.title=l("#item-title-input"),i.text=l("#item-text-input"),document.querySelector("#is-published"));r&&(i.is_published=r.value),i.layout=helperModule.get_checked_radio_button(document.getElementsByName("layout")),i.media_width=helperModule.get_checked_radio_button(document.getElementsByName("media_width")),i.item_subjects=l("#selected-subjects");if((()=>{var e,t;for([e,t]of Object.entries({backgroundColor:"#item-background-color",color:"#item-font-color",fontFamily:"#item-font"})){var o=l(t);o&&(i.styles[e]=o)}var r=l("#item-font-size");r&&(i.styles.fontSize=r+"px")})(),e){if(helperMediaModule.process_media_fields_common(i),!(0<i.media?.length||0<i.kaltura?.length||0<i.repo_uuid?.length))return o("Please upload or import a media item"),!1;if("image"===i.item_type){var a=document.querySelector("#item-alt-text-input")?.value?.trim()??"";if(!0===i.is_alt_text_decorative)i.is_alt_text_decorative=1,i.alt_text="";else if(!1===i.is_alt_text_decorative&&(i.is_alt_text_decorative=0)===(i.alt_text=a).length)return o('Please enter "alt text" for this item'),!1}}else i.item_type="text",i.mime_type="text/plain";return i}catch(e){t=document.querySelector("#message");return t&&(t.innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`),!1}},init:async function(){try{-1!==window.location.pathname.indexOf("media")&&helperMediaModule.media_common_init(),-1!==window.location.pathname.indexOf("text")&&(document.querySelector("#is-required-text").innerHTML='<span style="color: darkred">*</span> Text<small><em>(Required)</em></small>');var e=authModule.get_user_token();await authModule.check_auth(e),navModule.init(),navModule.back_to_items(),navModule.set_preview_link(),document.querySelector("#item-background-color-picker").addEventListener("input",()=>{document.querySelector("#item-background-color")&&(document.querySelector("#item-background-color").value=document.querySelector("#item-background-color-picker").value)}),document.querySelector("#item-background-color").addEventListener("input",()=>{document.querySelector("#item-background-color-picker").value=document.querySelector("#item-background-color").value}),document.querySelector("#item-font-color-picker").addEventListener("input",()=>{document.querySelector("#item-font-color")&&(document.querySelector("#item-font-color").value=document.querySelector("#item-font-color-picker").value)}),document.querySelector("#item-font-color").addEventListener("input",()=>{document.querySelector("#item-font-color-picker").value=document.querySelector("#item-font-color").value}),helperModule.show_form()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}}};return e})();