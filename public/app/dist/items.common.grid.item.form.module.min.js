let itemsCommonGridItemFormModule=(()=>{var e={get_common_grid_item_form_fields:function(){try{var e={styles:{}},t=window.location.pathname,r=t.includes("text"),o=t.includes("media"),i=(e,t="")=>document.querySelector(e)?.value?.trim()??t,l=e=>{var t=document.querySelector("#message");t&&(t.innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e}</div>`)};if(!helperModule)return console.error("helperModule is not available"),l("System configuration error."),!1;if(e.title=i("#item-title-input"),e.text=i("#item-text-input"),r&&0===e.text.length)return l('Please enter "Text" for this item'),!1;var a=document.querySelector("#is-published");if(a&&(e.is_published=a.value),o){if(!helperMediaModule)return console.error("helperMediaModule is not available"),l("System configuration error."),!1;if(helperMediaModule.process_media_fields_common(e),!(0<e.media?.length||0<e.kaltura?.length||0<e.repo_uuid?.length))return l("Please upload or import a media item"),!1;if("image"===e.item_type){var n=document.querySelector("#item-alt-text-input")?.value?.trim()??"";if(!0===e.is_alt_text_decorative)e.is_alt_text_decorative=1,e.alt_text="";else if(!1===e.is_alt_text_decorative&&(e.is_alt_text_decorative=0)===(e.alt_text=n).length)return l('Please enter "alt text" for this item'),!1}}else e.item_type="text",e.mime_type="text/plain";return e.layout=helperModule.get_checked_radio_button(document.getElementsByName("layout")),e.media_width=helperModule.get_checked_radio_button(document.getElementsByName("media_width")),e}catch(e){console.error("Error in get_common_grid_item_form_fields:",e.message);t=document.querySelector("#message");return t&&(t.innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`),!1}},init:async function(){try{-1!==window.location.pathname.indexOf("media")&&helperMediaModule.media_common_init(),-1!==window.location.pathname.indexOf("text")&&(document.querySelector("#is-required-text").innerHTML='<span style="color: darkred">*</span> Text<small><em>(Required)</em></small>');var e=authModule.get_user_token(),t=(await authModule.check_auth(e),navModule.init(),navModule.back_to_grid_items(),navModule.set_preview_link(),document.querySelector("#item-background-color-picker")),r=(t&&(document.querySelector("#item-background-color-picker").addEventListener("input",()=>{document.querySelector("#item-background-color")&&(document.querySelector("#item-background-color").value=document.querySelector("#item-background-color-picker").value)}),document.querySelector("#item-background-color").addEventListener("input",()=>{document.querySelector("#item-background-color-picker").value=document.querySelector("#item-background-color").value})),document.querySelector("#item-font-color-picker"));r&&(document.querySelector("#item-font-color-picker").addEventListener("input",()=>{document.querySelector("#item-font-color")&&(document.querySelector("#item-font-color").value=document.querySelector("#item-font-color-picker").value)}),document.querySelector("#item-font-color").addEventListener("input",()=>{document.querySelector("#item-font-color-picker").value=document.querySelector("#item-font-color").value})),helperModule.show_form()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}}};return e})();