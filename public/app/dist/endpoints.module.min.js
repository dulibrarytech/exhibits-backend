let endpointsModule=(()=>{let e="/exhibits-dashboard",o={users:null,exhibits:null,indexer:null,last_updated:null},i={},s=()=>{try{var e="__localStorage_test__";return window.localStorage.setItem(e,"test"),window.localStorage.removeItem(e),!0}catch(e){return console.error("localStorage not available:",e),!1}},l=(r,e)=>{if(!s())return console.warn("localStorage unavailable, cannot set "+r),!1;try{var n;return void 0===e?(console.error(`Cannot store undefined value for key "${r}"`),!1):(n="string"==typeof e?e:JSON.stringify(e),window.localStorage.setItem(r,n),!0)}catch(e){return"QuotaExceededError"===e.name?console.error("localStorage quota exceeded"):console.error(`Error setting localStorage item "${r}":`,e),!1}},d=()=>{o={users:null,exhibits:null,indexer:null,last_updated:null}},r=(e,r)=>{if(null!==o[e]&&o.last_updated)if(Date.now()-o.last_updated<3e5)return o[e];var n,t,r=((r,n=null)=>{if(!s())return console.warn("localStorage unavailable, cannot get "+r),n;try{var e=window.localStorage.getItem(r);if(null==e)return n;try{return JSON.parse(e)}catch(e){return console.error(`Error parsing JSON for key "${r}":`,e),n}}catch(e){return console.error(`Error getting localStorage item "${r}":`,e),n}})(r);return r&&(t=e,(n=r)&&"object"==typeof n?0<Object.keys(n).length||(console.warn(`No ${t} endpoints defined`),!1):(console.warn(`Invalid ${t} endpoints structure`),!1))?(o[e]=r,o.last_updated=Date.now(),r):(console.error(`Failed to load ${e} endpoints from localStorage`),null)};return i.save_exhibits_endpoints=function(e){try{var r,n,t,o,i=(s=e)&&"object"==typeof s?s.endpoints&&"object"==typeof s.endpoints?0<(a=["users","exhibits","indexer"].filter(e=>!s.endpoints[e])).length?{valid:!1,error:"Missing required endpoint types: "+a.join(", ")}:{valid:!0}:{valid:!1,error:'Data must contain "endpoints" object'}:{valid:!1,error:"Data must be an object"};return i.valid?(r=l("exhibits_endpoints_users",e.endpoints.users),n=l("exhibits_endpoints",e.endpoints.exhibits),t=l("exhibits_endpoints_indexer",e.endpoints.indexer),o=l("exhibits_endpoints_media_library",e.endpoints.media_library),r&&n&&t&&o?(d(),console.log("Endpoints saved successfully"),!0):(console.error("Failed to save one or more endpoint types"),!1)):(console.error("Invalid endpoint data:",i.error),!1)}catch(e){return console.error("Error saving exhibits endpoints:",e),!1}var s,a},i.get_users_endpoints=function(){try{return r("users","exhibits_endpoints_users")}catch(e){return console.error("Error getting users endpoints:",e),null}},i.get_indexer_endpoints=function(){try{return r("indexer","exhibits_endpoints_indexer")}catch(e){return console.error("Error getting indexer endpoints:",e),null}},i.get_media_library_endpoints=function(){try{return r("media_library","exhibits_endpoints_media_library")}catch(e){return console.error("Error getting media library endpoints:",e),null}},i.get_exhibits_endpoints=function(){try{return r("exhibits","exhibits_endpoints")}catch(e){return console.error("Error getting exhibits endpoints:",e),null}},i.clear_exhibits_endpoints=function(){try{return s()?(window.localStorage.removeItem("exhibits_endpoints_users"),window.localStorage.removeItem("exhibits_endpoints"),window.localStorage.removeItem("exhibits_endpoints_indexer"),window.localStorage.removeItem("exhibits_endpoints_media_library"),d(),console.log("Endpoints cleared successfully"),!0):!1}catch(e){return console.error("Error clearing endpoints:",e),!1}},i.are_endpoints_configured=function(){try{var e=i.get_users_endpoints(),r=i.get_exhibits_endpoints(),n=i.get_indexer_endpoints(),t=i.get_media_library_endpoints();return!!(e&&r&&n&&t)}catch(e){return console.error("Error checking endpoints configuration:",e),!1}},i.get_all_endpoints=function(){try{return{users:i.get_users_endpoints(),exhibits:i.get_exhibits_endpoints(),indexer:i.get_indexer_endpoints(),media_library:i.get_media_library_endpoints()}}catch(e){return console.error("Error getting all endpoints:",e),null}},i.init=function(){try{return s()?(l("exhibits_app_path",e)||console.error("Failed to save app path"),{authenticate:e+"/api/v1/authenticate",app_path:e}):(console.error("localStorage not available - endpoints module cannot function"),null)}catch(e){return console.error("Error initializing endpoints module:",e),null}},i.get_app_path=function(){return e},i.refresh_cache=function(){d(),console.log("Endpoints cache cleared")},i})();