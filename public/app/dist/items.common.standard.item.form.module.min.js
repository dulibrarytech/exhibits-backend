let itemsCommonStandardItemFormModule=(()=>{var e={get_common_standard_item_form_fields:function(){try{let r={styles:{}};var t=window.location.pathname,e=t.includes("text"),l=t.includes("media");let a=(e,t="")=>document.querySelector(e)?.value?.trim()??t;var o=e=>{var t=document.querySelector("#message");t&&(t.innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e}</div>`)};if(r.title=a("#item-title-input"),r.text=a("#item-text-input"),e&&0===r.text.length)return o('Please enter "Text" for this item'),!1;var i=document.querySelector("#is-published");i&&(r.is_published=i.value),r.layout=helperModule.get_checked_radio_button(document.getElementsByName("layout")),r.media_width=helperModule.get_checked_radio_button(document.getElementsByName("media_width")),r.item_subjects=a("#selected-subjects");if((()=>{var e,t;for([e,t]of Object.entries({backgroundColor:"#item-background-color",color:"#item-font-color",fontFamily:"#item-font"})){var l=a(t);l&&(r.styles[e]=l)}var o=a("#item-font-size");o&&(r.styles.fontSize=o+"px")})(),l){if(helperMediaModule.process_media_fields_common(r),!(0<r.media?.length||0<r.kaltura?.length||0<r.repo_uuid?.length))return o("Please upload or import a media item"),!1;if("image"===r.item_type){var n=document.querySelector("#item-alt-text-input")?.value?.trim()??"";if(!0===r.is_alt_text_decorative)r.is_alt_text_decorative=1,r.alt_text="";else if(!1===r.is_alt_text_decorative&&(r.is_alt_text_decorative=0)===(r.alt_text=n).length)return o('Please enter "alt text" for this item'),!1}}else r.item_type="text",r.mime_type="text/plain";return r}catch(e){t=document.querySelector("#message");return t&&(t.innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`),!1}},get_common_standard_item_form_fields__:function(){try{var e={styles:{}};if(e.title=document.querySelector("#item-title-input").value,e.text=document.querySelector("#item-text-input").value,-1!==window.location.pathname.indexOf("text")&&0===e.text.length)return!(document.querySelector("#message").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> Please enter "Text" for this item</div>');null!==document.querySelector("#is-published")&&(e.is_published=document.querySelector("#is-published").value),e.layout=helperModule.get_checked_radio_button(document.getElementsByName("layout")),e.media_width=helperModule.get_checked_radio_button(document.getElementsByName("media_width")),e.item_subjects=document.querySelector("#selected-subjects").value;var t=document.querySelector("#item-background-color").value,l=document.querySelector("#item-font-color").value,o=document.querySelector("#item-font").value,r=document.querySelector("#item-font-size").value;if(0<t.length&&(e.styles.backgroundColor=t),0<l.length&&(e.styles.color=document.querySelector("#item-font-color").value),0<o.length&&(e.styles.fontFamily=o),0<r.length&&(e.styles.fontSize=r+"px"),-1!==window.location.pathname.indexOf("media")){if(helperMediaModule.process_media_fields_common(e),0===e.media.length&&0===e.kaltura.length&&0===e.repo_uuid.length)return!(document.querySelector("#message").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> Please upload or import a media item</div>');if("image"===e.item_type)if(!0===e.is_alt_text_decorative)e.is_alt_text_decorative=1,e.alt_text="";else if(!1===e.is_alt_text_decorative&&(e.is_alt_text_decorative=0,e.alt_text=document.querySelector("#item-alt-text-input").value,0===e.alt_text.length)&&0===e.alt_text.length&&0===e.alt_text.length)return!(document.querySelector("#message").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> Please enter "alt text" for this item</div>')}else e.item_type="text",e.mime_type="text/plain";return e}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},init:async function(){try{-1!==window.location.pathname.indexOf("media")&&helperMediaModule.media_common_init(),-1!==window.location.pathname.indexOf("text")&&(document.querySelector("#is-required-text").innerHTML='<span style="color: darkred">*</span> Text<small><em>(Required)</em></small>');var e=authModule.get_user_token();await authModule.check_auth(e),navModule.init(),navModule.back_to_items(),navModule.set_preview_link(),document.querySelector("#item-background-color-picker").addEventListener("input",()=>{document.querySelector("#item-background-color")&&(document.querySelector("#item-background-color").value=document.querySelector("#item-background-color-picker").value)}),document.querySelector("#item-background-color").addEventListener("input",()=>{document.querySelector("#item-background-color-picker").value=document.querySelector("#item-background-color").value}),document.querySelector("#item-font-color-picker").addEventListener("input",()=>{document.querySelector("#item-font-color")&&(document.querySelector("#item-font-color").value=document.querySelector("#item-font-color-picker").value)}),document.querySelector("#item-font-color").addEventListener("input",()=>{document.querySelector("#item-font-color-picker").value=document.querySelector("#item-font-color").value}),helperModule.show_form()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}}};return e})();