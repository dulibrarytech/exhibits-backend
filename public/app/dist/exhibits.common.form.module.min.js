let exhibitsCommonFormModule=(()=>{let o=endpointsModule.get_exhibits_endpoints();var e={get_common_form_fields:function(){try{var e={},t=(e.title=helperModule.clean_html(document.querySelector("#exhibit-title-input").value),e.subtitle=helperModule.clean_html(document.querySelector("#exhibit-sub-title-input").value),e.description=helperModule.clean_html(document.querySelector("#exhibit-description-input").value),e.about_the_curators=helperModule.clean_html(document.querySelector("#exhibit-about-the-curators-input").value),e.is_featured=document.querySelector("#is-featured").checked,e.is_student_curated=document.querySelector("#is-student-curated").checked,null!==document.querySelector("#is-published")&&(e.is_published=document.querySelector("#is-published").value),!0===e.is_featured?e.is_featured=1:!1===e.is_featured&&(e.is_featured=0),!0===e.is_student_curated?e.is_student_curated=1:!1===e.is_student_curated&&(e.is_student_curated=0),document.querySelector("#is-content-advisory").checked);return(e.alert_text=!0===t?helperModule.clean_html(document.querySelector("#exhibit-alert-text-input").value):"",0===e.title.length)?!(document.querySelector("#exhibit-title-error").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> Please enter an exhibit title</div>'):(e.hero_image=document.querySelector("#hero-image").value,e.thumbnail=document.querySelector("#thumbnail-image").value,e.banner_template=helperModule.get_checked_radio_button(document.getElementsByName("banner_template")),e.page_layout=document.querySelector("#exhibit-page-layout").value,e.exhibit_template=document.querySelector("#exhibit-template").value,e.exhibit_owner=document.querySelector("#exhibit-owner").value,e)}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},get_exhibit_styles:function(){try{var e={},t={},o={},r={},n=document.querySelector("#nav-background-color").value,l=document.querySelector("#nav-font-color").value,u=document.querySelector("#nav-font").value,c=document.querySelector("#nav-font-size").value,a=document.querySelector("#template-background-color").value,i=document.querySelector("#template-font-color").value,d=document.querySelector("#template-font").value,m=document.querySelector("#template-font-size").value,s=document.querySelector("#introduction-background-color").value,y=document.querySelector("#introduction-font-color").value,v=document.querySelector("#introduction-font").value,p=document.querySelector("#introduction-font-size").value;return 0<n.length?t.backgroundColor=n:t.backgroundColor="",0<l.length?t.color=l:t.color="",0<u.length?t.fontFamily=u:t.fontFamily="",0<c.length?t.fontSize=c+"px":t.fontSize="",0<a.length?o.backgroundColor=a:o.backgroundColor="",0<i.length?o.color=i:o.color="",0<d.length?o.fontFamily=d:o.fontFamily="",0<m.length?o.fontSize=m+"px":o.fontSize="",0<s.length?r.backgroundColor=s:r.backgroundColor="",0<y.length?r.color=y:r.color="",0<v.length?r.fontFamily=v:r.fontFamily="",0<p.length?r.fontSize=p+"px":r.fontSize="",e.exhibit={navigation:t,template:o,introduction:r},e}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}}};return e.delete_hero_image=function(){try{(async()=>{var e=document.querySelector("#hero-image").value,t=authModule.get_user_token();void 0!==(e=await httpModule.req({method:"DELETE",url:o.exhibits.media.delete.endpoint+"?media="+e,headers:{"Content-Type":"application/json","x-access-token":t}}))&&204===e.status&&(document.querySelector("#hero-image").value="",document.querySelector("#hero-image-filename-display").innerHTML="",document.querySelector("#hero-trash").style.display="none",document.querySelector("#hero-image-display").innerHTML="",document.querySelector("#message").innerHTML='<div class="alert alert-success" role="alert"><i class="fa fa-info"></i> Hero image deleted</div>',setTimeout(()=>{document.querySelector("#message").innerHTML=""},1e3))})()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}return!1},e.delete_thumbnail_image=function(){try{(async()=>{var e=document.querySelector("#thumbnail-image").value,t=authModule.get_user_token();void 0!==(e=await httpModule.req({method:"DELETE",url:o.exhibits.media.delete.endpoint+"?media="+e,headers:{"Content-Type":"application/json","x-access-token":t}}))&&204===e.status&&(document.querySelector("#thumbnail-image").value="",document.querySelector("#thumbnail-filename-display").innerHTML="",document.querySelector("#thumbnail-trash").style.display="none",document.querySelector("#thumbnail-image-display").innerHTML="",document.querySelector("#message").innerHTML='<div class="alert alert-success" role="alert"><i class="fa fa-info"></i> Thumbnail image deleted</div>',setTimeout(()=>{document.querySelector("#message").innerHTML=""},3e3))})()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}return!1},e.init=async function(){try{uploadsModule.upload_exhibit_hero_image(),uploadsModule.upload_exhibit_thumbnail_image();var e=authModule.get_user_token();await authModule.check_auth(e),navModule.init(),document.querySelector("#hero-trash").style.display="none",document.querySelector("#thumbnail-trash").style.display="none",document.querySelector("#introduction-background-color-picker").addEventListener("input",()=>{document.querySelector("#introduction-background-color")&&(document.querySelector("#introduction-background-color").value=document.querySelector("#introduction-background-color-picker").value)}),document.querySelector("#introduction-background-color").addEventListener("input",()=>{document.querySelector("#introduction-background-color-picker").value=document.querySelector("#introduction-background-color").value}),document.querySelector("#introduction-font-color-picker").addEventListener("input",()=>{document.querySelector("#introduction-font-color")&&(document.querySelector("#introduction-font-color").value=document.querySelector("#introduction-font-color-picker").value)}),document.querySelector("#introduction-font-color").addEventListener("input",()=>{document.querySelector("#introduction-font-color-picker").value=document.querySelector("#introduction-font-color").value}),document.querySelector("#nav-background-color-picker").addEventListener("input",()=>{document.querySelector("#nav-background-color")&&(document.querySelector("#nav-background-color").value=document.querySelector("#nav-background-color-picker").value)}),document.querySelector("#nav-background-color").addEventListener("input",()=>{document.querySelector("#nav-background-color-picker").value=document.querySelector("#nav-background-color").value}),document.querySelector("#nav-font-color-picker").addEventListener("input",()=>{document.querySelector("#nav-font-color")&&(document.querySelector("#nav-font-color").value=document.querySelector("#nav-font-color-picker").value)}),document.querySelector("#nav-font-color").addEventListener("input",()=>{document.querySelector("#nav-font-color-picker").value=document.querySelector("#nav-font-color").value}),document.querySelector("#template-background-color-picker").addEventListener("input",()=>{document.querySelector("#template-background-color")&&(document.querySelector("#template-background-color").value=document.querySelector("#template-background-color-picker").value)}),document.querySelector("#template-background-color").addEventListener("input",()=>{document.querySelector("#template-background-color-picker").value=document.querySelector("#template-background-color").value}),document.querySelector("#template-font-color-picker").addEventListener("input",()=>{document.querySelector("#template-font-color")&&(document.querySelector("#template-font-color").value=document.querySelector("#template-font-color-picker").value)}),document.querySelector("#template-font-color").addEventListener("input",()=>{document.querySelector("#template-font-color-picker").value=document.querySelector("#template-font-color").value}),helperModule.show_form()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},e})();