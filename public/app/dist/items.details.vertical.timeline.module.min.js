let itemsDetailsVerticalTimelineModule=(()=>{let n=window.localStorage.getItem("exhibits_app_path"),o=endpointsModule.get_exhibits_endpoints();var e={};async function t(){var e=await(async()=>{try{var e,t=helperModule.get_parameter_by_name("exhibit_id"),a=helperModule.get_parameter_by_name("item_id"),i=authModule.get_user_token(),r=o.exhibits.timeline_records.get.endpoint.replace(":exhibit_id",t).replace(":timeline_id",a);return!1===i?(document.querySelector("#message").innerHTML="ERROR: Unable to get API endpoints",setTimeout(()=>{window.location.replace(n+"/exhibits-dashboard/auth")},3e3),!1):void 0!==(e=await httpModule.req({method:"GET",url:r,headers:{"Content-Type":"application/json","x-access-token":i}}))&&200===e.status?e.data.data[0]:void 0}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}})(),t=e.created_by,a=new Date(e.created),i=e.updated_by,r=e.updated,r=new Date(r);let l="";a=helperModule.format_date(a),r=helperModule.format_date(r);return null!==t&&(l+=`<em>Created by ${t} on ${a}</em>`),null!==i&&(l+=` | <em>Last updated by ${i} on ${r}</em>`),document.querySelector("#created").innerHTML=l,document.querySelector("#timeline-title-input").value=helperModule.unescape(e.title),document.querySelector("#timeline-text-input").value=helperModule.unescape(e.text),!1}return e.init=async function(){var e=helperModule.get_parameter_by_name("status"),e=(null!==e&&"403"===e&&(document.querySelector("#message").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> You do not have permission to edit this record.</div>'),helperModule.get_parameter_by_name("exhibit_id"));exhibitsModule.set_exhibit_title(e),await t()},e})();