<%- include('../partials/header.ejs'); %> <style>.color-picker {
        background-color: none;
        outline: none;
        border: 1px solid grey;
        height: 38px;
        width: 50px;
        cursor: pointer;
    }
    #cancel-exhibit-btn {
        min-width: 100px;
    }</style><body><aside id="left-panel" class="left-panel"><nav class="navbar navbar-expand-sm navbar-default"><div id="main-menu" class="main-menu"><ul class="nav navbar-nav"><li class="menu-title">Menu</li></ul><ul class="nav navbar-nav"><li id="preview-link"></li></ul><ul class="nav navbar-nav"><li><a id="back-to-items" href="#" data-keyboard="false"><i class="menu-icon fa fa-arrow-left"></i>Back to Exhibit Items</a></li></ul><ul id="items-menu" class="nav navbar-nav"></ul><ul class="nav navbar-nav"><li><a href="#" id="logout" data-keyboard="false"><i class="menu-icon fa fa-sign-out"></i>Logout</a></li></ul></div></nav></aside><div id="right-panel" class="right-panel"> <%- include('../partials/main-header.ejs'); %> <div class="content" style="min-height: 875px;"><div id="message"></div><h1><span id="exhibit-title"></span> - Text Item</h1> <%- include('partials/item-data-card.ejs'); %> <%- include('partials/standard-item-styles.ejs'); %> <input type="radio" name="layout" id="item-layout-text-only" value="text_only" checked="checked" style="visibility: hidden"> <input type="radio" name="media_width" id="item-width-50" value="50" checked="checked" style="visibility: hidden"> <input type="hidden" id="is-published" name="is_published"><div id="exhibit-submit-card" class="card"><div class="card-body"><button class="btn btn-primary" type="button" id="update-item-btn"><i class="fa fa-save"></i>&nbsp;&nbsp;Save</button> <button class="btn btn-outline-secondary ms-2" type="button" id="cancel-exhibit-btn"><i class="fa fa-times"></i>&nbsp;&nbsp;Cancel</button></div><div class="card-footer text-muted"><small>Item</small></div></div></div><div class="clearfix"></div> <%- include('../partials/footer.ejs'); %> <%- include('../partials/preview-html-modal.ejs'); %> </div><!-- libs --> <%- include('../partials/exhibits-libs-common.ejs'); %> <!-- app --> <%- include('../partials/exhibits-app-common.ejs'); %> <script src="/exhibits-dashboard/static/app/dist/exhibits.module.min.js?<%=build_version%>"></script><script src="/exhibits-dashboard/static/app/dist/items.module.min.js?<%=build_version%>"></script><script src="/exhibits-dashboard/static/app/dist/items.common.standard.item.form.module.min.js?<%=build_version%>"></script><script src="/exhibits-dashboard/static/app/dist/items.edit.standard.item.form.module.min.js?<%=build_version%>"></script><script>itemsCommonStandardItemFormModule.init();
    itemsEditStandardItemFormModule.init();
    navModule.init();

    const exhibit_id = helperModule.get_parameter_by_name('exhibit_id');
    const cancel_exhibit_btn = document.getElementById('cancel-exhibit-btn');

    cancel_exhibit_btn.addEventListener('click', function () {
        const has_unsaved_changes = check_for_unsaved_changes();
        if (has_unsaved_changes) {
            const confirm_cancel = confirm('Discard unsaved changes and return to the exhibit item list?');
            if (!confirm_cancel) return;
        }
        // Redirect
        window.location.href = `/exhibits-dashboard/items?exhibit_id=${exhibit_id}`;
    });

    function check_for_unsaved_changes() {
        const inputs = document.querySelectorAll('input, textarea, select');
        return Array.from(inputs).some(input => input.defaultValue !== input.value);
    }</script></body>