let itemsDetailsGridItemModule=(()=>{let u=window.localStorage.getItem("exhibits_app_path"),c=endpointsModule.get_exhibits_endpoints();var e={};async function t(){var t=await(async()=>{try{var e,t=helperModule.get_parameter_by_name("exhibit_id"),a=helperModule.get_parameter_by_name("grid_id"),i=helperModule.get_parameter_by_name("item_id"),l=authModule.get_user_token(),r=c.exhibits.grid_item_record.get.endpoint.replace(":exhibit_id",t).replace(":grid_id",a).replace(":item_id",i);return!1===l?(document.querySelector("#message").innerHTML="ERROR: Unable to get API endpoints",setTimeout(()=>{window.location.replace(u+"/exhibits-dashboard/auth")},1e3),!1):void 0!==(e=await httpModule.req({method:"GET",url:r,headers:{"Content-Type":"application/json","x-access-token":l}}))&&200===e.status?e.data.data[0]:void 0}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}})(),e=t.is_published,a=t.created_by,i=new Date(t.created),l=t.updated_by,r=t.updated,r=new Date(r);let d="";var i=helperModule.format_date(i),r=helperModule.format_date(r),n=(null!==a&&(d+=`<em>Created by ${a} on ${i}</em>`),null!==l&&(d+=` | <em>Last updated by ${l} on ${r}</em>`),document.querySelector("#created").innerHTML=d,null!==document.querySelector("#is-published")&&1===e?document.querySelector("#is-published").value=!0:null!==document.querySelector("#is-published")&&0===e&&(document.querySelector("#is-published").value=!1),document.querySelector("#item-title-input").value=helperModule.unescape(t.title),document.querySelector("#item-text-input").value=helperModule.unescape(t.text),-1!==window.location.pathname.indexOf("media")&&helperMediaModule.display_media_fields_common(t),document.getElementsByName("layout"));for(let e=0;e<n.length;e++)n[e].value===t.layout&&(document.querySelector("#"+n[e].id).checked=!0);var o=document.getElementsByName("media_width");for(let e=0;e<o.length;e++)parseInt(o[e].value)===parseInt(t.media_width)&&(document.querySelector("#"+o[e].id).checked=!0);return!1}return e.init=async function(){try{var e=helperModule.get_parameter_by_name("exhibit_id");exhibitsModule.set_exhibit_title(e),navModule.back_to_grid_items(),await t()}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},e})();