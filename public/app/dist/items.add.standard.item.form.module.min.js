let itemsAddStandardItemFormModule=(()=>{window.localStorage.getItem("exhibits_app_path");let o=endpointsModule.get_exhibits_endpoints();var e={create_item_record:async function(){try{window.scrollTo(0,0);var e=helperModule.get_parameter_by_name("exhibit_id");if(void 0===e)return!(document.querySelector("#message").innerHTML='<div class="alert alert-warning" role="alert"><i class="fa fa-info"></i> Unable to create item record.</div>');var t=itemsCommonStandardItemFormModule.get_common_standard_item_form_fields();if(void 0===t)return!(document.querySelector("#message").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> Unable to get form field values</div>');if(!1===t)return!1;document.querySelector("#message").innerHTML='<div class="alert alert-info" role="alert"><i class="fa fa-info"></i> Creating item record...</div>';var a=JSON.parse(sessionStorage.getItem("exhibits_user"));if(null===a.name)return!(document.querySelector("#message").innerHTML='<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> Unable to retrieve your profile</div>');t.created_by=a.name;var r=authModule.get_user_token(),i=await httpModule.req({method:"POST",url:o.exhibits.item_records.post.endpoint.replace(":exhibit_id",e),data:t,headers:{"Content-Type":"application/json","x-access-token":r}});void 0!==i&&201===i.status&&(document.querySelector("#message").innerHTML='<div class="alert alert-success" role="alert"><i class="fa fa-info"></i> Item record created</div>',i.data.data,setTimeout(()=>{window.location.pathname.indexOf("media")},900))}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},init:async function(){try{var e=helperModule.get_parameter_by_name("exhibit_id");exhibitsModule.set_exhibit_title(e),document.querySelector("#save-item-btn").addEventListener("click",itemsAddStandardItemFormModule.create_item_record)}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}}};return e})();