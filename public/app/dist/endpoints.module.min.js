let endpointsModule=(()=>{let e="/exhibits-dashboard",o={users:null,exhibits:null,indexer:null,last_updated:null},t={},i=()=>{try{var e="__localStorage_test__";return window.localStorage.setItem(e,"test"),window.localStorage.removeItem(e),!0}catch(e){return console.error("localStorage not available:",e),!1}},l=(n,e)=>{if(!i())return console.warn("localStorage unavailable, cannot set "+n),!1;try{var r;return void 0===e?(console.error(`Cannot store undefined value for key "${n}"`),!1):(r="string"==typeof e?e:JSON.stringify(e),window.localStorage.setItem(n,r),!0)}catch(e){return"QuotaExceededError"===e.name?console.error("localStorage quota exceeded"):console.error(`Error setting localStorage item "${n}":`,e),!1}},a=()=>{o={users:null,exhibits:null,indexer:null,last_updated:null}},n=(e,n)=>{if(null!==o[e]&&o.last_updated)if(Date.now()-o.last_updated<3e5)return o[e];var r,t,n=((n,r=null)=>{if(!i())return console.warn("localStorage unavailable, cannot get "+n),r;try{var e=window.localStorage.getItem(n);if(null==e)return r;try{return JSON.parse(e)}catch(e){return console.error(`Error parsing JSON for key "${n}":`,e),r}}catch(e){return console.error(`Error getting localStorage item "${n}":`,e),r}})(n);return n&&(t=e,(r=n)&&"object"==typeof r?0<Object.keys(r).length||(console.warn(`No ${t} endpoints defined`),!1):(console.warn(`Invalid ${t} endpoints structure`),!1))?(o[e]=n,o.last_updated=Date.now(),n):(console.error(`Failed to load ${e} endpoints from localStorage`),null)};return t.save_exhibits_endpoints=function(e){try{var n,r,t,o=(i=e)&&"object"==typeof i?i.endpoints&&"object"==typeof i.endpoints?0<(s=["users","exhibits","indexer"].filter(e=>!i.endpoints[e])).length?{valid:!1,error:"Missing required endpoint types: "+s.join(", ")}:{valid:!0}:{valid:!1,error:'Data must contain "endpoints" object'}:{valid:!1,error:"Data must be an object"};return o.valid?(n=l("exhibits_endpoints_users",e.endpoints.users),r=l("exhibits_endpoints",e.endpoints.exhibits),t=l("exhibits_endpoints_indexer",e.endpoints.indexer),n&&r&&t?(a(),console.log("Endpoints saved successfully"),!0):(console.error("Failed to save one or more endpoint types"),!1)):(console.error("Invalid endpoint data:",o.error),!1)}catch(e){return console.error("Error saving exhibits endpoints:",e),!1}var i,s},t.get_users_endpoints=function(){try{return n("users","exhibits_endpoints_users")}catch(e){return console.error("Error getting users endpoints:",e),null}},t.get_indexer_endpoints=function(){try{return n("indexer","exhibits_endpoints_indexer")}catch(e){return console.error("Error getting indexer endpoints:",e),null}},t.get_exhibits_endpoints=function(){try{return n("exhibits","exhibits_endpoints")}catch(e){return console.error("Error getting exhibits endpoints:",e),null}},t.clear_exhibits_endpoints=function(){try{return i()?(window.localStorage.removeItem("exhibits_endpoints_users"),window.localStorage.removeItem("exhibits_endpoints"),window.localStorage.removeItem("exhibits_endpoints_indexer"),a(),console.log("Endpoints cleared successfully"),!0):!1}catch(e){return console.error("Error clearing endpoints:",e),!1}},t.are_endpoints_configured=function(){try{var e=t.get_users_endpoints(),n=t.get_exhibits_endpoints(),r=t.get_indexer_endpoints();return!!(e&&n&&r)}catch(e){return console.error("Error checking endpoints configuration:",e),!1}},t.get_all_endpoints=function(){try{return{users:t.get_users_endpoints(),exhibits:t.get_exhibits_endpoints(),indexer:t.get_indexer_endpoints()}}catch(e){return console.error("Error getting all endpoints:",e),null}},t.init=function(){try{return i()?(l("exhibits_app_path",e)||console.error("Failed to save app path"),{authenticate:e+"/api/v1/authenticate",app_path:e}):(console.error("localStorage not available - endpoints module cannot function"),null)}catch(e){return console.error("Error initializing endpoints module:",e),null}},t.get_app_path=function(){return e},t.refresh_cache=function(){a(),console.log("Endpoints cache cleared")},t})();