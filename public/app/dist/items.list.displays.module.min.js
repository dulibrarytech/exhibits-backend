let itemsListDisplayModule=(()=>{let f=window.localStorage.getItem("exhibits_app_path"),c=endpointsModule.get_exhibits_endpoints();var e={};function n(e,i){var t={};return 1===e.is_published?(t.draggable=`<tr id="${e.uuid}_${e.type}">`,t.item_order=`<td class="item-order"><span style="padding-left: 4px;" aria-label="item-order">${e.order}</span></td>`,t.status=`<a href="#" id="${e.uuid}" class="suppress-item" aria-label="item-status"><span id="suppress" title="published"><i class="fa fa-cloud" style="color: green"></i><br>Published</span></a>`,"text"===e.item_type?t.edit=`<a href="${f}/items/${i}/text/details?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`:"heading"===e.type||"timeline"===e.type?t.edit=`<a href="${f}/items/${i}/details?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`:t.edit=`<a href="${f}/items/${i}/media/details?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`,t.delete_item='<i title="Can only delete if unpublished" style="color: #d3d3d3" class="fa fa-trash pr-1" aria-label="delete-item"></i>'):0===e.is_published&&(t.draggable=`<tr id="${e.uuid}_${e.type}">`,t.item_order=`<td class="grabbable item-order"><i class="fa fa-reorder"></i><span style="padding-left: 4px;" aria-label="item-order">${e.order}</span></td>`,t.status=`<a href="#" id="${e.uuid}" class="publish-item" aria-label="item-status"><span id="publish" title="suppressed"><i class="fa fa-cloud-upload" style="color: darkred"></i><br>Unpublished</span></a>`,"text"===e.item_type?t.edit=`<a href="${f}/items/${i}/text/edit?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-edit pr-1"></i></a>`:"heading"===e.type||"timeline"===e.type?t.edit=`<a href="${f}/items/${i}/edit?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-edit pr-1"></i></a>`:t.edit=`<a href="${f}/items/${i}/media/edit?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-edit pr-1"></i></a>`,t.delete_item=`<a href="${f}/items/delete?exhibit_id=${e.is_member_of_exhibit}&item_id=${e.uuid}&type=${e.type}" title="Delete" aria-label="delete-item"><i class="fa fa-trash pr-1"></i></a>`),t}return e.display_heading_items=async function(e){try{var i=e.type,t=helperModule.unescape(e.text),a=n(e,"heading"),l="";return(l+=a.draggable)+a.item_order+`<td class="item-metadata">
                    <p><button class="btn btn-default"><small>${i}</small></button></p>
                    <p><strong>${t}</strong></p>
                    </td>`+`<td class="item-status"><small>${a.status}</small></td>`+`<td id="${e.uuid}-item-actions" style="width: 10%">
                                <div class="card-text text-sm-center">
                                    ${a.edit}&nbsp;
                                    ${a.delete_item}
                                </div>
                            </td>`+"</tr>"}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},e.display_standard_items=async function(s){try{var d=s.type,m=n(s,"standard");let e=helperModule.strip_html(helperModule.unescape(s.title));var r,p="";let i="",t="",a,l=s.media;return-1!==s.mime_type.indexOf("image")||"image"===s.item_type?a='<i class="fa fa-image"></i>':-1!==s.mime_type.indexOf("video")||"video"===s.item_type?(a='<i class="fa fa-file-video-o"></i>',i=f+"/static/images/video-tn.png",t=`<p><img src="${i}" height="75" width="75" alt="video-thumbnail"></p>`):-1!==s.mime_type.indexOf("audio")||"audio"===s.item_type?(a='<i class="fa fa-file-audio-o"></i>',i=f+"/static/images/audio-tn.png",t=`<p><img src="${i}" height="75" width="75" alt="audio-thumbnail"></p>`):-1!==s.mime_type.indexOf("pdf")||"pdf"===s.item_type?(a='<i class="fa fa-file-pdf-o"></i>',i=f+"/static/images/pdf-tn.png",t=`<p><img src="${i}" height="75" width="75" alt="pdf-thumbnail"></p>`):"text"===s.item_type?(a='<i class="fa fa-file-text-o"></i>',l="Text only"):a='<i class="fa fa-file-o"></i>',"text"!==s.item_type&&(1===s.is_repo_item&&(r=await helperModule.get_repo_item_data(s.media),0===e.length&&(e=r.title),i=helperModule.render_repo_thumbnail(r.thumbnail.data),t=`<p><img src="${i}" height="75" width="75" alt="${s.uuid}"></p>`),1===s.is_kaltura_item&&0===e.length&&(e="Kaltura Item"),0===t.length)&&(t=0<s.thumbnail.length?`<p><img src="${i=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.thumbnail)}" height="75" width="75" alt="${s.uuid}-thumbnail"></p>`:0===s.thumbnail.length&&"image"===s.item_type&&0<s.media.length?`<p><img src="${i=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.media)}" height="75" width="75" alt="${s.uuid}-media"></p>`:`<p><img src="${i=f+"/static/images/image-tn.png"}" height="75" width="75" alt="no-thumbnail"></p>`),0===e.length&&0<s.text.length&&200<(e=helperModule.strip_html(helperModule.unescape(s.text))).length&&(e=e.substring(0,200)+"..."),(p+=m.draggable)+m.item_order+`<td class="item-metadata">
                    <p><button class="btn btn-default">${a} <small>${d}</small></button></p>
                    <p><strong>${e}</strong></p>
                    ${t}                   
                    <small><em>${l}</em></small>
                    </td>`+`<td class="item-status"><small>${m.status}</small></td>`+`<td id="${s.uuid}-item-actions" style="width: 10%">
                                <div class="card-text text-sm-center">
                                    ${m.edit}&nbsp;
                                    ${m.delete_item}
                                </div>
                            </td>`+"</tr>"}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},e.display_grids=async function(t){try{var a,l=t.type,s=helperModule.unescape(t.title),d=(n="grid",u={},1===(p=t).is_published?(u.draggable=`<tr id="${p.uuid}_${p.type}">`,u.item_order=`<td class="item-order"><span style="padding-left: 4px;" aria-label="item-order">${p.order}</span></td>`,u.status=`<a href="#" id="${p.uuid}" class="suppress-item" aria-label="item-status"><span id="suppress" title="published"><i class="fa fa-cloud" style="color: green"></i><br>Published</span></a>`,u.edit=`<a href="${f}/items/${n}/details?exhibit_id=${p.is_member_of_exhibit}&item_id=${p.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`,u.delete_item='<i title="Can only delete if unpublished" style="color: #d3d3d3" class="fa fa-trash pr-1" aria-label="delete-item"></i>'):0===p.is_published&&(u.draggable=`<tr id="${p.uuid}_${p.type}">`,u.item_order=`<td class="grabbable item-order"><i class="fa fa-reorder"></i><span style="padding-left: 4px;" aria-label="item-order">${p.order}</span></td>`,u.status=`<a href="#" id="${p.uuid}" class="publish-item" aria-label="item-status"><span id="publish" title="suppressed"><i class="fa fa-cloud-upload" style="color: darkred"></i><br>Unpublished</span></a>`,u.edit=`<a href="${f}/items/${n}/edit?exhibit_id=${p.is_member_of_exhibit}&item_id=${p.uuid}" title="Edit" aria-label="edit-item"><i class="fa fa-edit pr-1"></i></a>`,u.delete_item=`<a href="${f}/items/delete?exhibit_id=${p.is_member_of_exhibit}&item_id=${p.uuid}&type=${p.type}" title="Delete" aria-label="delete-item"><i class="fa fa-trash pr-1"></i></a>`),u),m=`<a href="${f}/items/grid/item?exhibit_id=${t.is_member_of_exhibit}&grid_id=${t.uuid}" title="Add Grid Item" aria-label="add-grid-items"><i class="fa fa-plus pr-1"></i></a>&nbsp;`,r="";let e="",i="";return 0===t.grid_items.length?e+="<p><strong>No items</strong></p>":i+=`Contains ${t.grid_items.length} items`,a=`<a href="${f}/items/grid/items?exhibit_id=${t.is_member_of_exhibit}&grid_id=${t.uuid}" title="View grid Items" aria-label="view-grid-items"><i class="fa fa-list pr-1"></i></a>`,r+d.draggable+d.item_order+`<td class="item-metadata">
                    <p><button class="btn btn-default"><i class="fa fa-th"></i> <small>${l}</small></button></p>
                    <p><strong>${s}</strong></p>
                    <p><small>${t.columns} columns</small></p>
                    <p><small>${i}</small></p>
                    <div id="grid-items-${t.is_member_of_exhibit}"><em>${e}</em></div>
                    </td>`+`<td class="item-status"><small>${d.status}</small></td>`+`<td id="${t.uuid}-item-actions" style="width: 10%"><!-- ${m}&nbsp; -->
                                <div class="card-text text-sm-center">
                                    ${a}&nbsp;
                                    ${d.edit}&nbsp;
                                    ${d.delete_item}
                                </div>
                            </td>`+"</tr>"}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}var p,n,u},e.display_timelines=async function(a){try{var l=a.type,s=(a.type="",a.type="timeline",helperModule.unescape(a.title)),d=n(a,"vertical-timeline"),m=`<a href="${f}/items/vertical-timeline/item?exhibit_id=${a.is_member_of_exhibit}&timeline_id=${a.uuid}" title="Add Timeline Item" aria-label="add-timeline-item"><i class="fa fa-plus pr-1"></i></a>&nbsp;`,r="";let e="",i="",t="";return 0===a.timeline_items.length?i+="<p><strong>No items</strong></p>":(e=`<a href="${f}/items/timeline/items?exhibit_id=${a.is_member_of_exhibit}&timeline_id=${a.uuid}" title="View Timeline Items" aria-label="view-timeline-items"><i class="fa fa-list pr-1"></i></a>`,t+=`Contains ${a.timeline_items.length} items`),(r+=d.draggable)+d.item_order+`<td class="item-metadata">
                    <p><button class="btn btn-default"><i class="fa fa-calendar"></i> <small>${l}</small></button></p>
                    <p><strong>${s}</strong></p>
                    <p><small>${t}</small></p>
                    <div id="grid-items-${a.is_member_of_exhibit}"><em>${i}</em></div>
                    </td>`+`<td class="item-status"><small>${d.status}</small></td>`+`<td id="${a.uuid}-item-actions" style="width: 10%">
                                <div class="card-text text-sm-center">
                                    ${e}&nbsp;
                                    ${m}&nbsp;
                                    ${d.edit}&nbsp;
                                    ${d.delete_item}
                                </div>
                            </td>`+"</tr>"}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}},e.display_grid_items=async function(s){try{s.type="",s.type="griditem";n="grid/item",u={},1===(p=s).is_published?(u.draggable=`<tr id="${p.uuid}_${p.type}_${p.item_type}">`,u.item_order=`<td class="item-order"><span style="padding-left: 4px;" aria-label="item-order">${p.order}</span></td>`,u.status=`<a href="#" id="${p.uuid}" class="suppress-item" aria-label="item-status"><span id="suppress" title="published"><i class="fa fa-cloud" style="color: green"></i><br>Published</span></a>`,u.edit="text"===p.item_type?`<a href="${f}/items/${n}/text/details?exhibit_id=${p.is_member_of_exhibit}&grid_id=${p.is_member_of_grid}&item_id=${p.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`:`<a href="${f}/items/${n}/media/details?exhibit_id=${p.is_member_of_exhibit}&grid_id=${p.is_member_of_grid}&item_id=${p.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`,u.delete_item='<i title="Can only delete if unpublished" style="color: #d3d3d3" class="fa fa-trash pr-1" aria-label="delete-item"></i>'):0===p.is_published&&(u.draggable=`<tr id="${p.uuid}_${p.type}_${p.item_type}">`,u.item_order=`<td class="grabbable item-order"><i class="fa fa-reorder"></i><span style="padding-left: 4px;" aria-label="item-order">${p.order}</span></td>`,u.status=`<a href="#" id="${p.uuid}" class="publish-item" aria-label="item-status"><span id="publish" title="suppressed"><i class="fa fa-cloud-upload" style="color: darkred"></i><br>Unpublished</span></a>`,u.edit="text"===p.item_type?`<a href="${f}/items/grid/item/text/edit?exhibit_id=${p.is_member_of_exhibit}&grid_id=${p.is_member_of_grid}&item_id=${p.uuid}" title="Edit" aria-label="edit-grid-item"><i class="fa fa-edit pr-1"></i></a>`:`<a href="${f}/items/grid/item/media/edit?exhibit_id=${p.is_member_of_exhibit}&grid_id=${p.is_member_of_grid}&item_id=${p.uuid}" title="Edit" aria-label="edit-grid-item"><i class="fa fa-edit pr-1"></i></a>`,u.delete_item=`<a href="${f}/items/grid/item/delete?exhibit_id=${p.is_member_of_exhibit}&grid_id=${p.is_member_of_grid}&item_id=${p.uuid}" title="Delete" aria-label="delete-grid-item"><i class="fa fa-trash pr-1"></i></a>`);var d=u;let e,i="",t,a="";var m,r="";let l="";return-1!==s.mime_type.indexOf("image")||"image"===s.item_type?t='<i class="fa fa-image"></i>':-1!==s.mime_type.indexOf("video")||"video"===s.item_type?(t='<i class="fa fa-file-video-o"></i>',e=f+"/static/images/video-tn.png",a=`<p><img src="${e}" height="75" width="75" alt="video-thumbnail"></p>`):-1!==s.mime_type.indexOf("audio")||"audio"===s.item_type?(t='<i class="fa fa-file-audio-o"></i>',e=f+"/static/images/audio-tn.png",a=`<p><img src="${e}" height="75" width="75" alt="audio-thumbnail" ></p>`):-1!==s.mime_type.indexOf("pdf")||"pdf"===s.item_type?(t='<i class="fa fa-file-pdf-o"></i>',e=f+"/static/images/pdf-tn.png",a=`<p><img src="${e}" height="75" width="75" alt="pdf-thumbnail"></p>`):"text"===s.item_type?(t='<i class="fa fa-file-text-o"></i>',i="Text only"):t='<i class="fa fa-file-o"></i>',"text"!==s.item_type&&(1===s.is_repo_item&&(m=await helperModule.get_repo_item_data(s.media),0===l.length&&(l=m.title),e=helperModule.render_repo_thumbnail(m.thumbnail.data),a=`<p><img src="${e}" height="75" width="75" alt="repo-thumbnail"></p>`),1===s.is_kaltura_item&&0===l.length&&(l="Kaltura Item"),0<s.media.length&&(i=s.media),0===a.length&&(a=0<s.thumbnail.length?`<p><img src="${e=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.thumbnail)}" height="75" width="75" alt="${s.uuid}-thumbnail"></p>`:0===s.thumbnail.length&&"image"===s.item_type&&0<s.media.length?`<p><img src="${e=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.media)}" height="75" width="75" alt="${s.uuid}-media"></p>`:`<p><img src="${e=f+"/static/images/image-tn.png"}" height="75" width="75" alt="no-thumbnail"></p>`),0<s.thumbnail.length)&&(e=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.thumbnail),a=`<p><img src="${e}" height="75" width="75" alt="${s.uuid}-thumbnail"></p>`),0===l.length&&0<s.text.length&&200<(l=helperModule.unescape(s.text)).length&&(l=l.substring(0,200)+"..."),r+d.draggable+d.item_order+`<td class="item-metadata">
                    <p><button class="btn btn-default">${t} <small>grid item</small></button></p>
                    <p><strong>${l}</strong></p>
                    ${a}
                    <small><em>${i}</em></small>
                    </td>`+`<td style="width: 5%;text-align: center"><small>${d.status}</small></td>`+`<td id="${s.uuid}-item-actions" style="width: 10%">
                                <div class="card-text text-sm-center">
                                    ${d.edit}&nbsp;
                                    ${d.delete_item}
                                </div>
                            </td>`+"</tr>"}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}var p,n,u},e.display_timeline_items=async function(s){try{s.type="",s.type="timelineitem";let e=helperModule.strip_html(helperModule.unescape(s.title));o="vertical-timeline/item",b={},1===(_=s).is_published?(b.draggable=`<tr id="${_.uuid}_${_.type}_${_.item_type}">`,b.item_order=`<td class="item-order"><span style="padding-left: 4px;" aria-label="item-order">${_.order}</span></td>`,b.status=`<a href="#" id="${_.uuid}" class="suppress-item" aria-label="item-status"><span id="suppress" title="published"><i class="fa fa-cloud" style="color: green"></i><br>Published</span></a>`,b.edit=`<a href="${f}/items/${o}/details?exhibit_id=${_.is_member_of_exhibit}&timeline_id=${_.is_member_of_timeline}&item_id=${_.uuid}" title="View details" aria-label="view-item-details"><i class="fa fa-folder-open pr-1"></i></a>`,b.delete_item='<i title="Can only delete if unpublished" style="color: #d3d3d3" class="fa fa-trash pr-1" aria-label="delete-item"></i>'):0===_.is_published&&(b.draggable=`<tr id="${_.uuid}_${_.type}_${_.item_type}">`,b.item_order=`<td class="grabbable item-order"><i class="fa fa-reorder"></i><span style="padding-left: 4px;" aria-label="item-order">${_.order}</span></td>`,b.status=`<a href="#" id="${_.uuid}" class="publish-item" aria-label="item-status"><span id="publish" title="suppressed"><i class="fa fa-cloud-upload" style="color: darkred"></i><br>Unpublished</span></a>`,b.edit=`<a href="${f}/items/${o}/edit?exhibit_id=${_.is_member_of_exhibit}&timeline_id=${_.is_member_of_timeline}&item_id=${_.uuid}" title="Edit" aria-label="edit-item"><i class="fa fa-edit pr-1"></i></a>`,b.delete_item=`<a href="${f}/items/delete?exhibit_id=${_.is_member_of_exhibit}&item_id=${_.uuid}&timeline_id=${_.is_member_of_timeline}&type=${_.type}" title="Delete" aria-label="delete-item"><i class="fa fa-trash pr-1"></i></a>`);var d=b,m="";let i,t="",a,l="";var r,p=new Date(s.date),n=new Intl.DateTimeFormat("en",{year:"numeric"}).format(p),u=n+`-${new Intl.DateTimeFormat("en",{month:"numeric"}).format(p)}-`+new Intl.DateTimeFormat("en",{day:"2-digit"}).format(p),h=""+n;return-1!==s.mime_type.indexOf("image")||"image"===s.item_type?a='<i class="fa fa-image"></i>':-1!==s.mime_type.indexOf("video")||"video"===s.item_type?(a='<i class="fa fa-file-video-o"></i>',i=f+"/static/images/video-tn.png",l=`<p><img src="${i}" height="75" width="75" alt="video-thumbnail"></p>`):-1!==s.mime_type.indexOf("audio")||"audio"===s.item_type?(a='<i class="fa fa-file-audio-o"></i>',i=f+"/static/images/audio-tn.png",l=`<p><img src="${i}" height="75" width="75" alt="audio-thumbnail"></p>`):-1!==s.mime_type.indexOf("pdf")||"pdf"===s.item_type?(a='<i class="fa fa-file-pdf-o"></i>',i=f+"/static/images/pdf-tn.png",l=`<p><img src="${i}" height="75" width="75" alt="pdf-thumbnail"></p>`):"text"===s.item_type?(a='<i class="fa fa-file-text-o"></i>',t="Text only"):a='<i class="fa fa-file-o"></i>',1===s.is_repo_item&&(r=await helperModule.get_repo_item_data(s.media),0===e.length&&(e=r.title),i=helperModule.render_repo_thumbnail(r.thumbnail.data),l=`<p><img src="${i}" height="75" width="75" alt="repo-thumbnail"></p>`),0===(e=1===s.is_kaltura_item&&0===e.length?"Kaltura Item":e).length&&0<s.text.length&&200<(e=helperModule.unescape(s.text)).length&&(e=e.substring(0,200)+"..."),0<s.media.length&&(t=s.media),0===l.length&&(l=0<s.thumbnail.length?`<p><img src="${i=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.thumbnail)}" height="75" width="75" alt="${s.uuid}-thumbnail"></p>`:0===s.thumbnail.length&&"image"===s.item_type&&0<s.media.length?`<p><img src="${i=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.media)}" height="75" width="75" alt="${s.uuid}-media"></p>`:`<p><img src="${i=f+"/static/images/image-tn.png"}" height="75" width="75" alt="no-thumbnail"></p>`),m+=`<tr id="${s.uuid}_${s.type}">`,0<s.thumbnail.length&&(i=c.exhibits.exhibit_media.get.endpoint.replace(":exhibit_id",s.is_member_of_exhibit).replace(":media",s.thumbnail),l=`<p><img src="${i}" height="75" width="75" alt="${s.uuid}-thumbnail"></p>`),(m+=`<td class="item-metadata">
                    <p><button class="btn btn-default">${a} <small>timeline item</small></button></p>
                    <p><strong>${e}</strong></p>
                    <p><strong><small>${h}</small></strong></p>
                    ${l}
                    <small><em>${t}</em></small>
                    </td>`)+`<td style="width: 5%;text-align: center"><small>${u}</small></td>`+`<td style="width: 5%;text-align: center"><small>${d.status}</small></td>`+`<td id="${s.uuid}-item-actions" style="width: 10%">
                                <div class="card-text text-sm-center">
                                    ${d.edit}&nbsp;
                                    ${d.delete_item}
                                </div>
                            </td>`+"</tr>"}catch(e){document.querySelector("#message").innerHTML=`<div class="alert alert-danger" role="alert"><i class="fa fa-exclamation"></i> ${e.message}</div>`}var _,o,b},e.init=function(){},e})();