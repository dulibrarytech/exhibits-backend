<div class="upload-media-container">
    <div class="alert alert-info" role="alert">
        <i class="fa fa-info-circle" aria-hidden="true"></i>
        <strong>Accepted files:</strong> Images (PNG, JPG, GIF, WebP) and PDFs up to 100MB each. You can upload up to 10 files at a time.
        <!--
        <br><small class="text-muted">For audio/video content, use the "Import Audio/Video" tab to link from Kaltura.</small>
        -->
    </div>
    <div class="upload-error" role="alert" aria-live="assertive"></div>
</div>

<div class="row mt-3">
    <div class="col-12">
        <div class="dropzone-wrapper">
            <form class="dropzone" 
                  id="item-dropzone" 
                  action="/exhibits-dashboard/media/library/uploads"
                  method="post"
                  enctype="multipart/form-data"
                  aria-label="Upload media files">
                <div class="dz-message" data-dz-message>
                    <i class="fa fa-cloud-upload fa-3x text-muted mb-3" aria-hidden="true"></i>
                    <p class="mb-0"><em>Drag and Drop up to 10 files here or Click to Upload</em></p>
                    <span class="sr-only">Drag and drop files here or click to select files for upload. Maximum 10 files allowed.</span>
                </div>
            </form>
        </div>
        
        <div class="uploaded-media-info mt-3" aria-live="polite">
            <div class="row align-items-center">
                <div class="col-auto">
                    <span id="item-media-thumbnail-image-display"></span>
                </div>
                <div class="col">
                    <span id="item-media-filename-display"></span>
                    <span id="item-thumbnail-image-prev"></span>
                </div>
                <div class="col-auto">
                    <button type="button" 
                            id="item-media-trash" 
                            class="btn btn-outline-danger btn-sm"
                            aria-label="Remove all uploaded media"
                            style="display: none;">
                        <i class="fa fa-trash" aria-hidden="true"></i>
                        <span class="d-none d-sm-inline ms-1">Clear All</span>
                    </button>
                </div>
            </div>
        </div>
        
        <!-- Hidden form fields for media data -->
        <input type="hidden" id="item-media" name="item_media">
        <input type="hidden" id="item-type" name="item_type">
        <input type="hidden" id="item-mime-type" name="item_mime_type">
        <input type="hidden" id="item-media-prev" name="item_media_prev">
    </div>
</div>

<!-- PDF-specific options -->
<fieldset id="toggle-open-to-page" class="pdf-options mt-3" style="display: none;">
    <legend class="sr-only">PDF Display Options</legend>
    <div class="col-sm-4 my-1">
        <label for="pdf-open-to-page" class="form-label">Open PDF to page</label>
        <input type="number" 
               class="form-control" 
               id="pdf-open-to-page" 
               name="pdf_open_to_page"
               min="1" 
               value="1"
               aria-describedby="pdf-page-help">
        <small id="pdf-page-help" class="form-text text-muted">
            <i class="fa fa-info-circle" aria-hidden="true"></i>
            The viewer will automatically open to the page entered
        </small>
    </div>
</fieldset>

<style>
.dropzone-wrapper .dropzone {
    border: 2px dashed #ccc;
    border-radius: 8px;
    padding: 30px;
    text-align: center;
    background: #fafafa;
    transition: border-color 0.3s ease, background-color 0.3s ease;
    min-height: 180px;
    display: flex;
    align-items: center;
    justify-content: center;
}

.dropzone-wrapper .dropzone:hover {
    border-color: #999;
    background: #f5f5f5;
}

.dropzone-wrapper .dropzone.dz-drag-hover {
    border-color: #0d6efd;
    background: #e7f1ff;
}

.dropzone-wrapper .dz-message {
    margin: 0;
}

.dropzone-wrapper .dz-preview {
    margin: 10px;
}

.dropzone-wrapper .dz-preview .dz-remove {
    font-size: 12px;
    margin-top: 5px;
}

.uploaded-thumbnail {
    border: 1px solid #ddd;
    border-radius: 4px;
    padding: 4px;
    background: #fff;
}

.uploaded-filename {
    font-family: monospace;
    background: #f8f9fa;
    padding: 2px 6px;
    border-radius: 3px;
    font-size: 11px;
}
</style>
