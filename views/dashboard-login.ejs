<%- include('partials/header.ejs'); %>
<body>
<aside id="left-panel" class="left-panel">
    <nav class="navbar navbar-expand-sm navbar-default">
        <div id="main-menu" class="main-menu collapse navbar-collapse">
            <ul class="nav navbar-nav"></ul>
        </div>
    </nav>
</aside>
<div id="right-panel" class="right-panel">
    <header>
        <nav class="navbar navbar-expand-md fixed-top" style="background-color: white">
            <div class="container-fluid">
                <a class="navbar-brand" href="/">
                    <img src="/exhibits-backend/static/images/du-logo.png" alt="University of Denver University Libraries">&nbsp;&nbsp;Online Exhibits
                </a>
            </div>
        </nav>
    </header>
    <div class="content" style="min-height: 875px;">
        <div class="alert alert-primary" role="alert"><span id="message">Online exhibits authentication</span></div>
        <p><button id="authenticate" type="button" class="btn btn-primary">Authenticate</button></p>
    </div>
    <div class="clearfix"></div>
    <%- include('partials/footer.ejs'); %>
</div>
<script src="https://cdn.jsdelivr.net/npm/jquery@2.2.4/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/popper.js@1.14.4/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.1.3/dist/js/bootstrap.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-match-height@0.7.2/dist/jquery.matchHeight.min.js"></script>
<script src="/exhibits-backend/static/libs/axios-2.x/dist/axios.min.js"></script>
<script src="/exhibits-backend/static/libs/dompurify/purify.min.js"></script>
<script src="/exhibits-backend/static/app/http.module.js"></script>
<script src="/exhibits-backend/static/app/helper.module.js"></script>
<script src="/exhibits-backend/static/app/endpoints.module.js"></script>
<script src="/exhibits-backend/static/app/auth.module.js"></script>
<script>
    authModule.clear();
    function authenticate() {
        document.querySelector('#message').innerHTML = 'Loading...';
        setTimeout(() => {
            window.location.replace('<%=sso_url%>?app_url=<%=sso_response_url%>');
        }, 500);
    }

    document.querySelector('#authenticate').addEventListener('click', () => {
        authenticate();
    });

</script>
</body>
</html>