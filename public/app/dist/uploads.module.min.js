let uploadsModule=(()=>{let n=window.localStorage.getItem("exhibits_app_path"),e=`${location.protocol}//${location.host}${n}/uploads`;var i={upload_exhibit_hero_image:function(){Dropzone.options.heroDropzone={paramName:"files",maxFilesize:1e3,url:e,uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/png,image/jpeg,image/jpg",ignoreHiddenFiles:!0,timeout:2e4,dictDefaultMessage:"<small><em>Drag and Drop Hero Image file here or Click to Upload</em></small>",autoProcessQueue:!0,init:function(){},renameFile:function(e){e=e.name.split(".").pop();return Date.now()+"_exhibit_hero."+e},success:function(i,e){let a=i.upload.filename;document.querySelector(".upload-error").innerHTML="",document.querySelector("#hero-image").value=a,document.querySelector("#hero-image-filename-display").innerHTML=`<span style="font-size: 11px">${a}</span>`,document.querySelector("#hero-trash").style.display="inline",setTimeout(()=>{this.removeFile(i);var e=n+"/media?media="+a;document.querySelector("#hero-image-display").innerHTML=`<p><img alt="${a}" src="${e}" height="200"></p>`},2e3)},error:function(e,i){document.querySelector(".upload-error").innerHTML=`<span class="alert alert-danger" style="border: solid 1px"><i class="fa fa-exclamation"></i> ${i}</span>`,this.removeFile(e)}}},upload_exhibit_thumbnail_image:function(){Dropzone.options.thumbnailDropzone={paramName:"files",maxFilesize:1e3,url:e,uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/png,image/jpeg,image/jpg",ignoreHiddenFiles:!0,timeout:2e4,dictDefaultMessage:"<small><em>Drag and Drop Thumbnail Image file here or Click to Upload</em></small>",autoProcessQueue:!0,init:function(){},renameFile:function(e){e=e.name.split(".").pop();return Date.now()+"_exhibit_thumbnail."+e},success:function(i,e){let a=i.upload.filename;document.querySelector(".upload-error").innerHTML="",document.querySelector("#thumbnail-image").value=a,document.querySelector("#thumbnail-filename-display").innerHTML=`<span style="font-size: 11px">${a}</span>`,document.querySelector("#thumbnail-trash").style.display="inline",setTimeout(()=>{var e=n+"/media?media="+a;document.querySelector("#thumbnail-image-display").innerHTML=`<p><img alt="${a}" src="${e}" height="200"></p>`,this.removeFile(i)},2e3)},error:function(e,i){document.querySelector(".upload-error").innerHTML=`<span class="alert alert-danger" style="border: solid 1px"><i class="fa fa-exclamation"></i> ${i}</span>`,this.removeFile(e)}}},upload_item_media:function(){Dropzone.options.itemDropzone={paramName:"files",maxFilesize:1e4,url:e,uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/png,image/jpeg,image/jpg,application/pdf",ignoreHiddenFiles:!0,timeout:2e4,dictDefaultMessage:"<small><em>Drag and Drop Item Media file here or Click to Upload</em></small>",autoProcessQueue:!0,init:function(){},renameFile:function(e){e=e.name.split(".").pop();return Date.now()+"_item_media."+e},success:function(e,i){console.log("SUCCESS: ",e.upload),console.log(e.upload.filename),console.log(e.upload.total);let a;var t=e.type,o=e.upload.filename;let l="";-1!==e.type.indexOf("image")?(l=n+"/media?media="+o,a="image",document.querySelector("#image-alt-text").style.display="block"):-1!==e.type.indexOf("video")?(l="/exhibits-dashboard/static/images/video-tn.png",a="video"):-1!==e.type.indexOf("audio")?(l="/exhibits-dashboard/static/images/audio-tn.png",a="audio"):-1!==e.type.indexOf("pdf")?(l="/exhibits-dashboard/static/images/pdf-tn.png",a="pdf",document.querySelector("#toggle-open-to-page").style.visibility="visible"):a="Unable to Determine Type",helperModule.clear_media_fields("uploaded_media"),document.querySelector("#item-type").value=a,document.querySelector("#item-mime-type").value=t,document.querySelector(".upload-error").innerHTML="",document.querySelector("#item-media").value=o,document.querySelector("#item-media-filename-display").innerHTML=`<span style="font-size: 11px">${o}</span>`,document.querySelector("#item-media-trash").style.display="inline",setTimeout(()=>{document.querySelector("#item-media-thumbnail-image-display").innerHTML=`<p><img src="${l}" height="200"></p>`,this.removeFile(e)},2e3)},error:function(e,i){document.querySelector(".upload-error").innerHTML=`<span class="alert alert-danger" style="border: solid 1px"><i class="fa fa-exclamation"></i> ${i}</span>`,this.removeFile(e)}}},upload_item_thumbnail:function(){Dropzone.options.itemThumbnailDropzone={paramName:"files",maxFilesize:1e3,url:e,uploadMultiple:!1,maxFiles:1,acceptedFiles:"image/png,image/jpeg,image/jpg",ignoreHiddenFiles:!0,timeout:2e4,dictDefaultMessage:"<small><em>Drag and Drop Item Thumbnail file here or Click to Upload</em></small>",autoProcessQueue:!0,init:function(){},renameFile:function(e){e=e.name.split(".").pop();return Date.now()+"_item_thumbnail."+e},success:function(i,e){console.log("SUCCESS: ",i.upload),console.log(i.upload.filename),console.log(i.upload.total);let a=i.upload.filename;document.querySelector(".upload-error").innerHTML="",document.querySelector("#item-thumbnail").value=a,document.querySelector("#item-thumbnail-filename-display").innerHTML=`<span style="font-size: 11px">${a}</span>`,document.querySelector("#item-thumbnail-trash").style.display="inline",setTimeout(()=>{var e=n+"/media?media="+a;document.querySelector("#item-thumbnail-image-display").innerHTML=`<p><img src="${e}" height="200"></p>`,this.removeFile(i)},2e3)},error:function(e,i){document.querySelector(".upload-error").innerHTML=`<span class="alert alert-danger" style="border: solid 1px"><i class="fa fa-exclamation"></i> ${i}</span>`,this.removeFile(e)}}},init:function(){}};return i})();